<!DOCTYPE html>
<html lang="ko">
<head>
  <title>íšŒì›ê°€ì… | BlindLove</title>
  <link rel="stylesheet" href="/assets/css/signup.css" />
  <%- include('partials/head') %> 
  <style>
    .notice-text {
      text-align: center;
      color: #c00;
      font-size: 1rem;
      margin-bottom: 1.5rem;
      font-weight: bold;
    }

    .notice-wrap {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
  padding: 0 0.5rem;
}

.notice-text {
  color: #c00;
  font-weight: bold;
  font-size: 1rem;
  margin: 0;
}

.back-home-link {
  font-size: 0.9rem;
  color: #0077cc;
  text-decoration: none;
}

.back-home-link:hover {
  text-decoration: underline;
}
  </style>
</head>
<body class="no-fixed-footer">

  <div class="signup-container hologram-border">
    <div class="glow-ball"></div>
    <div class="logo-wrap">
      <img src="/assets/images/logo.svg" alt="BlindLove ë¡œê³ " />
    </div>

    <div class="notice-wrap">
      <h2 class="notice-text">ì•„ì§ ì„œë¹„ìŠ¤ ì‹œì‘ ì „ì…ë‹ˆë‹¤</h2>
      <a href="/" class="back-home-link">í™ˆí˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°</a>
    </div>

    <% if (error) { %>
      <div class="error-msg"><%= error %></div>
    <% } %>

    <form action="/signup" method="POST" onsubmit="return false;">
        <div class="input-with-button">
          <input type="text" name="username" placeholder="ë‹‰ë„¤ì„" required disabled />
          <button type="button" class="check-btn" disabled>ì¤‘ë³µí™•ì¸</button>
        </div>
        <div id="nickname-msg" class="check-msg"></div>
      
        <div class="input-with-button">
          <input type="text" name="user_id" placeholder="ì•„ì´ë””" required disabled />
          <button type="button" class="check-btn" disabled>ì¤‘ë³µí™•ì¸</button>
        </div>
        <div id="id-msg" class="check-msg"></div>
      
        <input type="email" name="email" placeholder="ì´ë©”ì¼ (ì„ íƒì‚¬í•­)" disabled />
        <input type="password" name="password" placeholder="ë¹„ë°€ë²ˆí˜¸" required disabled />
        <button type="submit" class="signup-btn" disabled>ê°€ì…í•˜ê¸°</button>
    </form>

    <div class="extra">
      ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? <a href="/login">ë¡œê·¸ì¸</a>
    </div>
  </div>

  <%- include('partials/footer') %>
  <%- include('partials/scripts') %>

  <script>
    function checkId() {
      return; // ì„œë¹„ìŠ¤ ë¹„í™œì„±í™” ì¤‘
    }

    function checkNickname() {
      return; // ì„œë¹„ìŠ¤ ë¹„í™œì„±í™” ì¤‘
    }
  </script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const ball = document.querySelector(".glow-ball");
    const container = document.querySelector(".signup-container");
  
    if (!ball || !container) return;
  
    container.style.position = 'relative';
  
    let t = 0;
    const speed = 5; // ì†ë„ ì¡°ì ˆ
    const offsetX = -6; // xì¶• ì´ë™ëŸ‰
    const offsetY = -6; // yì¶• ì´ë™ëŸ‰

    // âœ… ê¶¤ë„ ìœ„ì¹˜ ê³„ì‚° í•¨ìˆ˜
    const getPosition = (t) => {
      const w = container.clientWidth - 2.5;
      const h = container.clientHeight - 3;
      const perimeter = 2 * (w + h);
      const dist = (t * speed) % perimeter;

      let x, y;
      if (dist < w) {
        x = dist;
        y = 0;
      } else if (dist < w + h) {
        x = w;
        y = dist - w;
      } else if (dist < 2 * w + h) {
        x = w - (dist - (w + h));
        y = h;
      } else {
        x = 0;
        y = h - (dist - (2 * w + h));
      }

      return { x, y };
    };

// âœ… ì²˜ìŒ ìœ„ì¹˜ í•œë²ˆ ë¯¸ë¦¬ ì§€ì •
const { x: initX, y: initY } = getPosition(t);
ball.style.left = `${initX + offsetX}px`;
ball.style.top = `${initY + offsetY}px`;

// ğŸ’¡ ë‹¤ìŒ ë Œë” í”„ë ˆì„ì—ì„œ opacity ì£¼ê¸°
requestAnimationFrame(() => {
  ball.style.opacity = 1; // âœ… ì´ˆê¸° ìœ„ì¹˜ ì§€ì • í›„ ê³µ ë‚˜íƒ€ë‚˜ê²Œ
});

    // âœ… ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
    const updatePosition = () => {
      const { x, y } = getPosition(t);
      ball.style.left = `${x + offsetX}px`;
      ball.style.top = `${y + offsetY}px`;

      t += 1;
      requestAnimationFrame(updatePosition);
    };

    updatePosition();
  });
</script>
</body>
</html>
