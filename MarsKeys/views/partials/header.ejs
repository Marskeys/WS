<header class="mk-header ">
  <div class="logo-wrapper">
      <object id="logo" type="image/svg+xml" data="/assets/images/logo.svg"></object>
  </div>

  <nav class="mk-nav">
    <a href="#youtube" class="nav-icon" title="YouTube">
      <i class="fab fa-youtube"></i>
    </a>
    <a href="#soundcloud" class="nav-icon" title="SoundCloud">
      <i class="fab fa-soundcloud"></i>
    </a>
    <a href="#instagram" class="nav-icon" title="Instagram">
      <i class="fab fa-instagram"></i>
    </a>
    <a href="#lessons" class="nav-icon" title="교육">
      <i class="fas fa-chalkboard-teacher"></i>
    </a>
    <a href="#experiments" class="nav-icon" title="실험">
      <i class="fas fa-vial"></i>
    </a>
  </nav>
</header>

<!-- JavaScript -->
<script>
  const obj = document.getElementById('logo');

  obj.addEventListener('load', () => {
    const svgDoc = obj.contentDocument;
    const whole = svgDoc.getElementById('whole');
    const eyebrow = svgDoc.getElementById('eyebrow');

    if (whole) {
      const paths = whole.querySelectorAll('*');
      let t = 0;

      // 고급스러운 실버 → 골드 느낌
      const colorStart = [160, 160, 160]; // 더 어두운 실버톤
      const colorEnd = [218, 187, 138];   // 더 따뜻한 골드톤

      function animateFadeInOnce() {
        t += 0.012; // 약간 더 부드러운 속도
        const easedT = t < 1 ? 1 - Math.pow(1 - t, 3) : 1;

        if (t < 1) requestAnimationFrame(animateFadeInOnce);

        const r = Math.floor(colorStart[0] + (colorEnd[0] - colorStart[0]) * easedT);
        const g = Math.floor(colorStart[1] + (colorEnd[1] - colorStart[1]) * easedT);
        const b = Math.floor(colorStart[2] + (colorEnd[2] - colorStart[2]) * easedT);
        const color = `rgb(${r}, ${g}, ${b})`;

        paths.forEach(el => {
          if (el.hasAttribute('fill')) el.setAttribute('fill', color);
        });
        whole.setAttribute('fill', color);
      }

      animateFadeInOnce();
    }

    if (eyebrow) {
      const animate = svgDoc.createElementNS("http://www.w3.org/2000/svg", "animateTransform");
      animate.setAttribute("attributeName", "transform");
      animate.setAttribute("type", "translate");
      animate.setAttribute("values", "0,-1.2; 0,1.2; 0,-1.2");
      animate.setAttribute("dur", "1.6s");
      animate.setAttribute("repeatCount", "indefinite");
      eyebrow.appendChild(animate);
    }
  });
</script>
