<header class="mk-header ">
  <div class="logo-wrapper">
      <object id="logo" type="image/svg+xml" data="/assets/images/logo.svg"></object>
  </div>

  <nav class="mk-nav">
    <a href="#youtube" class="nav-icon" title="YouTube">
      <i class="fab fa-youtube"></i>
    </a>
    <a href="#soundcloud" class="nav-icon" title="SoundCloud">
      <i class="fab fa-soundcloud"></i>
    </a>
    <a href="#instagram" class="nav-icon" title="Instagram">
      <i class="fab fa-instagram"></i>
    </a>
    <a href="#lessons" class="nav-icon" title="교육">
      <i class="fas fa-chalkboard-teacher"></i>
    </a>
    <a href="#experiments" class="nav-icon" title="실험">
      <i class="fas fa-vial"></i>
    </a>
  </nav>
</header>

<!-- JavaScript -->
<script>
  const obj = document.getElementById('logo');
  obj.addEventListener('load', () => {
    const svgDoc = obj.contentDocument;

    const whole = svgDoc.getElementById('whole');
    const eyebrow = svgDoc.getElementById('eyebrow');
    if (whole) {
  const paths = whole.querySelectorAll('*');

  let t = 0;
let direction = 1;

function animateFade() {
  // 페이드인: 빠르게 (0 → 1)
  // 페이드아웃: 느리게 (1 → 0)
  const speed = direction === 1 ? 0.02 : 0.005;

  t += direction * speed;

  if (t >= 1) {
    t = 1;
    direction = -1; // 페이드아웃 시작
  } else if (t <= 0) {
    t = 0;
    direction = 1; // 다시 페이드인
  }

  const v = Math.floor(t * 255);
  const color = `rgb(${v}, ${v}, ${v})`;

  paths.forEach(el => el.setAttribute('fill', color));
  whole.setAttribute('fill', color);

  requestAnimationFrame(animateFade);
}

animateFade();
    }

    // ✅ 애니메이션 추가
    if (eyebrow) {
      const animate = svgDoc.createElementNS("http://www.w3.org/2000/svg", "animateTransform");
      animate.setAttribute("attributeName", "transform");
      animate.setAttribute("type", "translate");
      animate.setAttribute("values", "0,-2; 0,2; 0,-2");
      animate.setAttribute("dur", "1s");
      animate.setAttribute("repeatCount", "indefinite");
      eyebrow.appendChild(animate);
    }
  });
</script>

