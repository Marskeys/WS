

  <!-- ðŸ“± ëª¨ë°”ì¼ ê²Œì‹œíŒ -->
  <div class="mobile-board-list mobile-only">


  <!-- ðŸŸ¡ ë™ì ìœ¼ë¡œ ìƒì„±ëœ ì¹´í…Œê³ ë¦¬ íƒ­ -->
<div class="tabs-container">
  <% if (user && user.is_admin === 1) { %>
    <a href="/write" class="write-button">ê¸€ì“°ê¸°</a>
  <% } %>
    <div class="tabs-blur-left"></div>
    <div class="tabs-blur-right"></div>
    <div class="tabs-wrapper">
      <div class="tabs">
        <div class="tab-spacer"></div> <!-- ðŸ’¡ ì™¼ìª½ ì—¬ë°± -->
        <a href="/?category=all" class="tab <%= !selectedCategory || selectedCategory === 'all' ? 'active' : '' %>">ì „ì²´ê¸€</a>
        <% categories.forEach(category => { %>
          <a href="/?category=<%= category %>" class="tab <%= selectedCategory === category ? 'active' : '' %>">
            <%= category %>
          </a>
        <% }) %>
      </div>
    </div>
  </div>
  
    <% posts.forEach(post => { %>
      <div class="mobile-post-item">
        <div class="post-title-and-actions">
          <span class="post-id">#<%= post.id %></span>
          <% if (post.is_pinned) { %><span class="pinned-icon">ðŸ“Œ</span><% } %>
          <a href="/post/<%= post.id %>" class="post-title post-detail-link <%= post.is_pinned == 1 ? 'pinned-title' : '' %>">
            <% 
              const now = new Date();
              const createdAt = new Date(post.created_at);
              const updatedAt = new Date(post.updated_at);
              const isNew = (now - createdAt) < 86400000;
              const isEdited = updatedAt > createdAt && (now - updatedAt) < 86400000;
            %>
            <% if (isEdited) { %><span class="label-icon edited-icon"></span>
            <% } else if (isNew) { %><span class="label-icon new-icon"></span>
            <% } %>
            <%= post.title %><% if (post.is_private) { %> <i class="fas fa-lock"></i><% } %>
          </a>
          <% if (user && (user.id === post.user_id || user.is_admin)) { %>
            <div class="action-icons">
              <a href="/edit/<%= post.id %>" class="icon-btn"><i class="fas fa-pen"></i></a>
              <form action="/delete/<%= post.id %>" method="POST" class="delete-post-form" onsubmit="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')">
                <button type="submit" class="icon-btn"><i class="fas fa-trash"></i></button>
              </form>
            </div>
          <% } %>
        </div>
        <div class="post-info">
          <%= post.author %> | <%= post.created_at.toISOString().slice(0, 10) %> | ì¡°íšŒìˆ˜ <%= post.views %> | <%= post.categories %>
        </div>
      </div>
    <% }) %>

     <!-- ðŸ“± ëª¨ë°”ì¼ íŽ˜ì´ì§€ë„¤ì´ì…˜ -->
  <% if (pagination.total > 1) { %>
    <div class="pagination pagination-mobile mobile-only">
      <% if (pagination.current > 1) { %>
        <a href="?page=1" class="page-link">Â«</a>
        <a href="?page=<%= pagination.current - 1 %>" class="page-link">â€¹</a>
      <% } else { %>
        <span class="page-link disabled">Â«</span>
        <span class="page-link disabled">â€¹</span>
      <% } %>
  
      <% pagination.range.forEach(p => { %>
        <% if (p === '...') { %>
          <span class="page-ellipsis">â€¦</span>
        <% } else { %>
          <a href="?page=<%= p %>" class="page-link <%= p === pagination.current ? 'active' : '' %>"><%= p %></a>
        <% } %>
      <% }) %>
  
      <% if (pagination.current < pagination.total) { %>
        <a href="?page=<%= pagination.current + 1 %>" class="page-link">â€º</a>
        <a href="?page=<%= pagination.total %>" class="page-link">Â»</a>
      <% } else { %>
        <span class="page-link disabled">â€º</span>
        <span class="page-link disabled">Â»</span>
      <% } %>
    </div>
  <% } %>

  </div>
  
 
  