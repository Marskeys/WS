<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Googlebot Logs</title>
  <style>
    body { font-family: system-ui; background:#0f1115; color:#e6e6e6; }
    h1 { margin-bottom: 10px; }
    table {
      width:100%;
      border-collapse: collapse;
      font-size: 13px;
    }
    th, td {
      padding: 6px 8px;
      border-bottom: 1px solid #222;
      text-align: left;
      white-space: nowrap;
    }
    th { color:#9aa4ff; }
    tr:hover { background:#151a2b; }
    .status-200 { color:#6ee7b7; }
    .status-404, .status-410 { color:#fca5a5; }
  </style>
</head>
<body>

<h1>ğŸ¤– Googlebot Logs</h1>
<p id="updated">ë¡œë”© ì¤‘...</p>

<table>
  <thead>
    <tr>
      <th>ì‹œê°„</th>
      <th>IP</th>
      <th>ìš”ì²­ ê²½ë¡œ</th>
      <th>ì‘ë‹µ</th>
      <th>Bot ì¢…ë¥˜</th>
    </tr>
  </thead>
  <tbody id="log-body">
    <tr><td colspan="5">ë¡œë”© ì¤‘...</td></tr>
  </tbody>
</table>

<script>
async function loadLogs() {
  try {
    const res = await fetch('/admin/api/googlebot-logs');
    const data = await res.json();

    const tbody = document.getElementById('log-body');
    tbody.innerHTML = '';

    data.logs.forEach(log => {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${log.time}</td>
        <td>${log.ip}</td>
        <td>${log.path}</td>
        <td class="status-${log.status}">${log.status}</td>
        <td>${log.bot}</td>
      `;
      tbody.appendChild(tr);
    });

    document.getElementById('updated').textContent =
      'ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: ' + new Date().toLocaleTimeString();

  } catch (e) {
    document.getElementById('updated').textContent = 'ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨';
  }
}

loadLogs();
setInterval(loadLogs, 60000); // 1ë¶„
</script>

</body>
</html>
