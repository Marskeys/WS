<div class="full-header-container" style="z-index:20000;">
  <div class="header-top">
    <div class="top-controls">
      <div class="left-controls">
        <%
          const pathWithoutLang = currentPath.replace(/^\/(ko|en|fr|zh|ja)/, '');
          const showLogo = ['/signup', '/editor', '/login', '/write'].includes(pathWithoutLang) ||
                           pathWithoutLang.startsWith('/post') ||
                           pathWithoutLang.startsWith('/edit');
        %>
        <% if (showLogo) { %>
          <!-- ‚úÖ ÌôàÏùÄ Ìå®ÎÑêÎßå ÍµêÏ≤¥ -->
          <a href="/<%= lang %>/" class="logo-link" data-panel-link aria-label="BugLoop Ìôà"></a>
        <% } %>
      </div>

      <nav class="header-menu" aria-label="Ï£º Î©îÎâ¥">
        <ul class="main-menu-container">

          <!-- ‚úÖ YouTube Î°úÍ≥† Ï∂îÍ∞Ä -->
<a href="https://www.youtube.com" target="_blank" aria-label="YouTube Î∞îÎ°úÍ∞ÄÍ∏∞">
  <img src="/assets/images/youtube.png" alt="YouTube"
       style="height:28px; width:auto; vertical-align:middle; margin-right:12px;">
</a>

           <!-- ‚úÖ ÏÉà ÏÑπÏÖò: Ïª¥Ìì®ÌÑ∞ ÌïòÎìúÏõ®Ïñ¥ -->
           <li class="menu-item-wrapper hardware-wrapper">
            <span class="menu-label" id="hardware-label">Ïª¥Ìì®ÌÑ∞ ÌïòÎìúÏõ®Ïñ¥</span>
          
           
          <li class="menu-item-wrapper">
            <span class="menu-label">ÌîÑÎ°†Ìä∏ÏóîÎìú</span>
            <ul class="submenu">
              <li><a href="/<%= lang %>/frontend/html"        data-panel-link>HTML</a></li>
              <li><a href="/<%= lang %>/frontend/css"         data-panel-link>CSS</a></li>
              <li><a href="/<%= lang %>/frontend/javascript"  data-panel-link>JavaScript</a></li>
              <li><a href="/<%= lang %>/frontend/react"       data-panel-link>React</a></li>
              <li><a href="/<%= lang %>/frontend/vue"         data-panel-link>Vue</a></li>
              <li><a href="/<%= lang %>/frontend/angular"     data-panel-link>Angular</a></li>
              <li><a href="/<%= lang %>/frontend/svelte"      data-panel-link>Svelte</a></li>
              <li><a href="/<%= lang %>/frontend/tailwind"    data-panel-link>Tailwind</a></li>
              <li><a href="/<%= lang %>/frontend/bootstrap"   data-panel-link>Bootstrap</a></li>
              <li><a href="/<%= lang %>/frontend/webpack"     data-panel-link>Webpack</a></li>
              <li><a href="/<%= lang %>/frontend/vite"        data-panel-link>Vite</a></li>
              <li><a href="/<%= lang %>/frontend/pwa"         data-panel-link>PWA</a></li>
            </ul>
          </li>

          <li class="menu-item-wrapper">
            <span class="menu-label">Î∞±ÏóîÎìú</span>
            <ul class="submenu">
              <li><a href="/<%= lang %>/backend/nodejs"       data-panel-link>Node.js</a></li>
              <li><a href="/<%= lang %>/backend/express"      data-panel-link>Express</a></li>
              <li><a href="/<%= lang %>/backend/django"       data-panel-link>Django</a></li>
              <li><a href="/<%= lang %>/backend/flask"        data-panel-link>Flask</a></li>
              <li><a href="/<%= lang %>/backend/fastapi"      data-panel-link>FastAPI</a></li>
              <li><a href="/<%= lang %>/backend/spring"       data-panel-link>Spring</a></li>
              <li><a href="/<%= lang %>/backend/php"          data-panel-link>PHP</a></li>
              <li><a href="/<%= lang %>/backend/laravel"      data-panel-link>Laravel</a></li>
              <li><a href="/<%= lang %>/backend/rails"        data-panel-link>Rails</a></li>
              <li><a href="/<%= lang %>/backend/go"           data-panel-link>Go</a></li>
              <li><a href="/<%= lang %>/backend/restapi"      data-panel-link>REST API</a></li>
              <li><a href="/<%= lang %>/backend/graphql"      data-panel-link>GraphQL</a></li>
            </ul>
          </li>

          <li class="menu-item-wrapper">
            <span class="menu-label">Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§</span>
            <ul class="submenu">
              <li><a href="/<%= lang %>/database/mysql"        data-panel-link>MySQL</a></li>
              <li><a href="/<%= lang %>/database/postgresql"   data-panel-link>PostgreSQL</a></li>
              <li><a href="/<%= lang %>/database/mongodb"      data-panel-link>MongoDB</a></li>
              <li><a href="/<%= lang %>/database/redis"        data-panel-link>Redis</a></li>
              <li><a href="/<%= lang %>/database/oracle"       data-panel-link>Oracle</a></li>
              <li><a href="/<%= lang %>/database/sqlite"       data-panel-link>SQLite</a></li>
              <li><a href="/<%= lang %>/database/elasticsearch"data-panel-link>ElasticSearch</a></li>
              <li><a href="/<%= lang %>/database/influxdb"     data-panel-link>InfluxDB</a></li>
              <li><a href="/<%= lang %>/database/timescaledb"  data-panel-link>TimescaleDB</a></li>
            </ul>
          </li>

          <li class="menu-item-wrapper">
            <span class="menu-label">ÎÑ§Ìä∏ÏõåÌÅ¨/Ïù∏ÌîÑÎùº</span>
            <ul class="submenu">
              <li><a href="/<%= lang %>/network/http"        data-panel-link>HTTP</a></li>
              <li><a href="/<%= lang %>/network/https"       data-panel-link>HTTPS</a></li>
              <li><a href="/<%= lang %>/network/dns"         data-panel-link>DNS</a></li>
              <li><a href="/<%= lang %>/network/tcpip"       data-panel-link>TCP/IP</a></li>
              <li><a href="/<%= lang %>/network/websocket"   data-panel-link>WebSocket</a></li>
              <li><a href="/<%= lang %>/network/cdn"         data-panel-link>CDN</a></li>
              <li><a href="/<%= lang %>/network/docker"      data-panel-link>Docker</a></li>
              <li><a href="/<%= lang %>/network/kubernetes"  data-panel-link>Kubernetes</a></li>
              <li><a href="/<%= lang %>/network/aws"         data-panel-link>AWS</a></li>
              <li><a href="/<%= lang %>/network/gcp"         data-panel-link>GCP</a></li>
              <li><a href="/<%= lang %>/network/azure"       data-panel-link>Azure</a></li>
              <li><a href="/<%= lang %>/network/nginx"       data-panel-link>Nginx</a></li>
              <li><a href="/<%= lang %>/network/apache"      data-panel-link>Apache</a></li>
            </ul>
          </li>

          <li class="menu-item-wrapper">
            <span class="menu-label">Î≥¥Ïïà</span>
            <ul class="submenu">
              <li><a href="/<%= lang %>/security/jwt"          data-panel-link>JWT</a></li>
              <li><a href="/<%= lang %>/security/oauth2"       data-panel-link>OAuth2</a></li>
              <li><a href="/<%= lang %>/security/xss"          data-panel-link>XSS</a></li>
              <li><a href="/<%= lang %>/security/csrf"         data-panel-link>CSRF</a></li>
              <li><a href="/<%= lang %>/security/sqlinjection" data-panel-link>SQL Injection</a></li>
              <li><a href="/<%= lang %>/security/https"        data-panel-link>HTTPS</a></li>
              <li><a href="/<%= lang %>/security/tls"          data-panel-link>TLS</a></li>
              <li><a href="/<%= lang %>/security/waf"          data-panel-link>WAF</a></li>
              <li><a href="/<%= lang %>/security/vpn"          data-panel-link>VPN</a></li>
              <li><a href="/<%= lang %>/security/ddos"         data-panel-link>DDoS</a></li>
              <li><a href="/<%= lang %>/security/owasptop10"   data-panel-link>OWASP Top 10</a></li>
            </ul>
          </li>

          <li class="menu-item-wrapper">
            <span class="menu-label">DevOps/Ïö¥ÏòÅ</span>
            <ul class="submenu">
              <li><a href="/<%= lang %>/devops/git"            data-panel-link>Git</a></li>
              <li><a href="/<%= lang %>/devops/githubactions"  data-panel-link>GitHub Actions</a></li>
              <li><a href="/<%= lang %>/devops/jenkins"        data-panel-link>Jenkins</a></li>
              <li><a href="/<%= lang %>/devops/cicd"           data-panel-link>CI/CD</a></li>
              <li><a href="/<%= lang %>/devops/prometheus"     data-panel-link>Prometheus</a></li>
              <li><a href="/<%= lang %>/devops/grafana"        data-panel-link>Grafana</a></li>
              <li><a href="/<%= lang %>/devops/elkstack"       data-panel-link>ELK Stack</a></li>
              <li><a href="/<%= lang %>/devops/bluegreen"      data-panel-link>Blue-Green</a></li>
            </ul>
          </li>

          <li class="menu-item-wrapper">
            <span class="menu-label">Í∏∞ÌÉÄ</span>
            <ul class="submenu">
              <li><a href="/<%= lang %>/etc/webperformance"   data-panel-link>Ïõπ ÏÑ±Îä• ÏµúÏ†ÅÌôî</a></li>
              <li><a href="/<%= lang %>/etc/lighthouse"       data-panel-link>Lighthouse</a></li>
              <li><a href="/<%= lang %>/etc/corewebvitals"    data-panel-link>Core Web Vitals</a></li>
              <li><a href="/<%= lang %>/etc/aria"             data-panel-link>ARIA</a></li>
              <li><a href="/<%= lang %>/etc/webassembly"      data-panel-link>WebAssembly</a></li>
              <li><a href="/<%= lang %>/etc/electron"         data-panel-link>Electron</a></li>
              <li><a href="/<%= lang %>/etc/reactnative"      data-panel-link>React Native</a></li>
            </ul>
          </li>
        </ul>
      </nav>

      <div class="right-controls" id="right-controls">
        <div class="language-dropdown">
          <button id="langToggle" class="lang-btn" aria-haspopup="menu" aria-expanded="false" aria-controls="langMenu">
            <%
              let flagCode = lang;
              switch(lang) {
                case 'ko': flagCode = 'kr'; break;
                case 'en': flagCode = 'gb'; break;
                case 'zh': flagCode = 'cn'; break;
                case 'ja': flagCode = 'jp'; break;
                case 'fr': flagCode = 'fr'; break;
                default: flagCode = 'kr';
              }
            %>
            <span class="fi fi-<%= flagCode %>" aria-hidden="true"></span>
            <i class="fas fa-caret-down" aria-hidden="true"></i>
          </button>
          <ul id="langMenu" class="lang-menu" role="menu">
            <%
              const currentPathWithoutLang = currentPath.replace(/^\/(ko|en|fr|zh|ja)/, '');
            %>
            <% supportedLangs.forEach(langCode => { %>
              <li role="none">
                <!-- üî∏ Ïñ∏Ïñ¥ Î≥ÄÍ≤ΩÏùÄ Ï†ÑÏ≤¥ ÏÉàÎ°úÍ≥†Ïπ® Ïú†ÏßÄ (data-panel-link Ï∂îÍ∞Ä Ïïà Ìï®) -->
                <a href="/<%= langCode %><%= currentPathWithoutLang %>"
                   class="lang-option <%= langCode === lang ? 'active-lang' : '' %>"
                   role="menuitem">
                  <span class="fi fi-<%= (langCode === 'ko' ? 'kr' : (langCode === 'en' ? 'gb' : (langCode === 'zh' ? 'cn' : (langCode === 'ja' ? 'jp' : langCode)))) %>"></span>
                  <%= {ko: 'ÌïúÍµ≠Ïñ¥', en: 'English', fr: 'Fran√ßais', zh: 'ÁÆÄ‰Ωì‰∏≠Êñá', ja: 'Êó•Êú¨Ë™û'}[langCode] %>
                </a>
              </li>
            <% }); %>
          </ul>
        </div>

        <div class="light-switch" role="switch" aria-checked="false" aria-label="Îã§ÌÅ¨ Î™®Îìú Ï†ÑÌôò" tabindex="0" id="mode-toggle-accessible">
          <span class="switch-label"><span class="switch-handle"></span></span>
        </div>
      </div>
    </div>
  </div>

  <aside class="side-panel main-panel-only">
    <div class="sidebar-wrapper">
      <nav class="vscode-sidebar" aria-label="Ìå®ÎÑê ÏÇ¨Ïù¥ÎìúÎ∞î" role="tablist">
        <a href="#" class="sidebar-icon toggle-extension blink-highlight" title="Ìå®ÎÑê Ïó¥Í∏∞/Îã´Í∏∞" aria-label="Ìå®ÎÑê Ïó¥Í∏∞/Îã´Í∏∞">
          <i class="fas fa-chevron-left" aria-hidden="true"></i>
        </a>

        <a href="/<%= lang %>/" class="sidebar-icon logo" data-tab="home" data-panel-link title="BugLoop Ìôà" aria-label="BugLoop Ìôà" aria-selected="false">
          <img src="/assets/images/BugLoop.png" alt="BugLoop">
        </a>
        <a href="/<%= lang %>/" class="sidebar-icon" data-tab="home" data-panel-link title="Ìôà" aria-selected="false">
          <i class="fas fa-home" aria-hidden="true"></i>
        </a>

        <a href="#" class="sidebar-icon" data-tab="profile" title="ÌîÑÎ°úÌïÑ" aria-selected="false" role="tab">
          <i class="fas fa-user" aria-hidden="true"></i>
        </a>
        <a href="#" class="sidebar-icon" data-tab="search" title="Í≤ÄÏÉâ" aria-selected="false" role="tab">
          <i class="fas fa-search" aria-hidden="true"></i>
        </a>

        <% if (user) { %>
          <% if (Number(user.is_admin) === 1) { %>
            <!-- üî∏ Í∏ÄÏì∞Í∏∞Îäî Ï†ÑÏ≤¥Î∑∞Í∞Ä ÏïàÏ†Ñ -->
            <a href="/<%= lang %>/write" class="sidebar-icon" data-tab="write" title="Í∏ÄÏì∞Í∏∞" aria-selected="false">
              <i class="fas fa-pen" aria-hidden="true"></i>
            </a>
          <% } %>
        <% } %>

        <a href="#" class="sidebar-icon" data-tab="settings" title="ÏÑ§Ï†ï" aria-selected="false" aria-pressed="false" role="button">
          <i class="fas fa-cog" aria-hidden="true"></i>
        </a>
      </nav>

      <div class="sidebar-extension-panel">
        <div class="panel-logo">
          <img src="/assets/images/BugLoop2.png" alt="BugLoop" loading="lazy" />
        </div>
        <div class="tab-container"></div>
        <!-- ‚úÖ ÌîÑÎ°úÌïÑ ÌÉ≠: Ï¶ùÎ™ÖÏÇ¨ÏßÑ ÎäêÎÇå About Ïπ¥Îìú -->
        <div class="tab-content" data-tab="profile" style="display: none;">
          <%- include('./profile', { locale }) %>
        </div>

        <% if (typeof posts !== 'undefined') { %>
          <!-- ‚úÖ ÏÑúÏπò ÌÉ≠: ÏÉÅÎã® Í≤ÄÏÉâÎ∞î + ÌÖåÏù¥Î∏î ÌÖúÌîåÎ¶ø -->
          <div class="tab-content" data-tab="search" style="display: none;">
            <section class="search-tab">
             
              <!-- Ïà®Í≤®ÏßÑ ÌÖúÌîåÎ¶ø: header.jsÍ∞Ä ÌÅ¥Î°† ÌõÑ #sidebar-tableÎ°ú Ïù¥Î¶Ñ Î∞îÍøî ÏÇ¨Ïö© -->
              <div id="sidebar-table-template" data-lang="<%= lang %>">
                <%- include('table') %>
              </div>
            </section>
          </div>
        <% } %>

        <div class="panel-footer">
          <% if (user) { %>
            <div class="greeting" style="text-align: center; margin-top: 10px; font-weight: bold;">
              <%= user.nickname %>Îãò, ÏïàÎÖïÌïòÏÑ∏Ïöî!
            </div>
          <% } %>
          <% if (currentPath !== '/signup' && currentPath !== '/login') { %>
            <div class="auth-buttons">
              <% if (user) { %>
                <!-- üî∏ Î°úÍ∑∏ÏïÑÏõÉÏùÄ Ï†ÑÏ≤¥ ÎÇ¥ÎπÑÍ≤åÏù¥ÏÖò Ïú†ÏßÄ -->
                <a href="/<%= lang %>/logout" class="auth-btn logout">Î°úÍ∑∏ÏïÑÏõÉ</a>
              <% } else { %>
                <a class="auth-btn signup" onclick="return false;" style="pointer-events: none; opacity: 0.5; cursor: not-allowed;">ÌöåÏõêÍ∞ÄÏûÖ</a>
                <button class="auth-btn login" id="login" type="button">Î°úÍ∑∏Ïù∏</button>
              <% } %>
            </div>
          <% } %>

          <div id="login-form-container" class="login-form-container hidden">
            <form id="login-form" method="POST" action="/login">
              <input type="text" name="id" placeholder="ÏïÑÏù¥Îîî" required />
              <input type="password" name="password" placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏" required />
              <button type="submit">Î°úÍ∑∏Ïù∏</button>
            </form>
          </div>

          <div class="real-footer">
            <small>¬© 2025 Bug Loop</small>
          </div>
        </div>
      </div>
    </div>
  </aside>
</div>

<!-- ===== ÏÉÅÎã® Î©îÎâ¥ ÌòÑÏû¨ Í≤ΩÎ°ú ÌïòÏù¥ÎùºÏù¥Ìä∏ ===== -->
<script>
  (function(){
    var path = location.pathname.replace(/\/$/, '');
    document.querySelectorAll('.submenu a').forEach(function(a){
      var href = (a.getAttribute('href') || '').replace(/\/$/, '');
      if (href === path) {
        a.classList.add('active');
        var label = a.closest('.menu-item-wrapper')?.querySelector('.menu-label');
        if (label) label.classList.add('active-label');
      }
    });
  })();
</script>

<!-- ===== Ìôà ÏïÑÏù¥ÏΩò/Î°úÍ≥† ÌôúÏÑ±Ìôî: Í≤ΩÎ°ú Í∏∞Ï§Ä ===== -->
<script>
  (() => {
    const homeEls = document.querySelectorAll('.vscode-sidebar a.sidebar-icon[data-tab="home"]:not(.toggle-extension)');
    const stripLang = (p) => {
      const path = (p || location.pathname).replace(/[#?].*$/, '');
      const noLang = path.replace(/^\/(ko|en|fr|zh|ja)(?:\/|$)/, '');
      return noLang === '' ? '/' : noLang.replace(/\/$/, '') || '/';
    };
    const isHomePath = (p) => stripLang(p) === '/';
    const setHomeActive = (flag) => {
      homeEls.forEach(el => {
        el.classList.toggle('active', flag);
        el.querySelector('i')?.classList.toggle('active', flag);
      });
    };
    const sync = () => setHomeActive(isHomePath(location.pathname));

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', sync, { once: true });
    } else {
      sync();
    }

    document.addEventListener('click', (e) => {
      const a = e.target.closest('a[data-panel-link]');
      if (!a) return;
      const pn = new URL(a.getAttribute('href') || '/', location.origin).pathname;
      setHomeActive(isHomePath(pn));
    });
    window.addEventListener('popstate', sync);

    ['pushState','replaceState'].forEach(fn => {
      const orig = history[fn];
      history[fn] = function(...args){
        const ret = orig.apply(this, args);
        window.dispatchEvent(new Event('panel:navigated'));
        return ret;
      };
    });
    window.addEventListener('panel:navigated', sync);
  })();
</script>

<script>
  (function(){
    const bubble = document.getElementById('hardware-hint');
    const label  = document.getElementById('hardware-label');
    if (!bubble || !label) return;
  
    /** ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
     *  0) ÏÉÅÏàò/Ïú†Ìã∏
     *  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    const KEY = 'bugloop.hideHardwareHint';
  
    const isShown = () =>
      bubble.style.display !== 'none' && bubble.getAttribute('aria-hidden') !== 'true';
  
    function show(){
      bubble.style.display = 'inline-flex';
      bubble.setAttribute('aria-hidden', 'false');
    }
    function hide(){
      localStorage.setItem(KEY, '1');
      bubble.style.display = 'none';
      bubble.setAttribute('aria-hidden', 'true');
      label?.focus?.();
    }
  
    /** ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
     *  1) Ìè¨ÌÑ∏: Ï°∞ÏÉÅ overflow/transform ÏòÅÌñ• Ï†úÍ±∞
     *     (fixed Í∏∞Ï§ÄÏùÑ Î∑∞Ìè¨Ìä∏Î°ú Í≥†Ï†ï)
     *  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    if (bubble.parentNode !== document.body) {
      bubble.style.position = 'fixed';
      bubble.style.left = '-9999px';
      bubble.style.top  = '-9999px';
      document.body.appendChild(bubble);
    }
  
    // Ïù¥Î≤§Ìä∏ Ìå®Ïä§Ïä§Î£®: Ïä§ÌÅ¨Î°§ ÎßâÏßÄ ÏïäÍ≤å
    bubble.style.pointerEvents = 'none';
    const closeBtn = bubble.querySelector('.hint-close');
    if (closeBtn) closeBtn.style.pointerEvents = 'auto';
  
    /** ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
     *  2) ÏúÑÏπò Í≥ÑÏÇ∞: ÎùºÎ≤® Í∏∞Ï§Ä Ïó¨Î∞±(Ï¢å:20px, ÏÉÅ:8px)
     *  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    function placeBubble(){
      const r = label.getBoundingClientRect();
      bubble.style.left = (Math.round(r.left + 20)) + 'px';
      bubble.style.top  = (Math.round(r.bottom + 8)) + 'px';
      if (!isShown() && localStorage.getItem(KEY) !== '1') show();
    }
  
    /** ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
     *  3) Ïï†ÎãàÎ©îÏù¥ÏÖò/Ï†ÑÌôò ÎèôÏïà ÌîÑÎ†àÏûÑ Ï∂îÏ†Å (rAF Î£®ÌîÑ)
     *  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    let followRAF = 0;
    function cancelFollow(){
      if (followRAF) cancelAnimationFrame(followRAF), followRAF = 0;
    }
    function startFollow(ms = 600){
      const end = performance.now() + ms;
      cancelFollow();
      const tick = () => {
        placeBubble();
        if (performance.now() < end) followRAF = requestAnimationFrame(tick);
      };
      followRAF = requestAnimationFrame(tick);
    }
  
    /** ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
     *  4) Ìä∏Î¶¨Í±∞Îì§: Ï¶âÏãú/ÏßÄÏÜç Í∞±Ïã†
     *  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    // Ï¥àÍ∏∞ Î∞∞Ïπò
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', placeBubble, { once:true });
    } else {
      placeBubble();
    }
  
    // Ïä§ÌÅ¨Î°§/Î¶¨ÏÇ¨Ïù¥Ï¶à Ï¶âÏãú Î∞òÏòÅ
    window.addEventListener('scroll', placeBubble, { capture:true, passive:true });
    window.addEventListener('resize', placeBubble);
  
    // Ìå®ÎÑê ÌÜ†Í∏Ä ÌÅ¥Î¶≠ ÏãúÏ†êÎ∂ÄÌÑ∞ Îî∞ÎùºÎ∂ôÍ∏∞
    document.querySelector('.toggle-extension')?.addEventListener('click', () => {
      placeBubble();
      startFollow(800);
    });
  
    // Ïª§Ïä§ÌÖÄ ÎÇ¥ÎπÑ Ïù¥Î≤§Ìä∏(ÎÑ§ ÏΩîÎìú Ïú†ÏßÄ)
    window.addEventListener('panel:navigated', () => {
      placeBubble();
      startFollow(400);
    });
  
    // Î†àÏù¥ÏïÑÏõÉ ÌÅ¨Í∏∞ Î≥ÄÌôî Í∞êÏßÄ(Ìó§Îçî/Ìå®ÎÑê/Î©îÏù∏ ÎûòÌçº Îì±)
    const ro = new ResizeObserver(() => placeBubble());
    ['.full-header-container', '.main-panel-only', '.header-top', 'body', 'html']
      .forEach(sel => { const el = document.querySelector(sel); if (el) ro.observe(el); });
  
    // Ìä∏ÎûúÏßÄÏÖò ÏãúÏûë ÌîÑÎ†àÏûÑÎ∂ÄÌÑ∞ rAF Ï∂îÏ†Å (Ï∫°Ï≤ò Îã®Í≥Ñ)
    const transTargets = ['.sidebar-extension-panel', '.full-header-container', '.main-panel-only', '.header-top'];
    document.addEventListener('transitionstart', (e) => {
      if (transTargets.some(sel => e.target.matches?.(sel))) {
        placeBubble();
        // e.elapsedTimeÏùÄ start ÏãúÏ†êÏóî 0Ïùº Ïàò ÏûàÏùå ‚Üí Í∏∞Î≥∏ 700ms + 200ms Ïó¨Ïú†
        startFollow((e.elapsedTime ? e.elapsedTime * 1000 : 500) + 400);
      }
    }, true);
  
    /** ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
     *  5) Îã´Í∏∞(X) + Ï†ÑÏó≠ ESC
     *  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    closeBtn?.addEventListener('click', hide);
  
    // Î≤ÑÎ∏îÏùÄ pointer-events:none ‚Üí ÌÇ§ÏûÖÎ†•ÏùÄ documentÏóêÏÑú Ï≤òÎ¶¨
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && isShown()) hide();
    }, true);
  
    // Ï≤´ ÏßÑÏûÖ ÏûêÎèô ÎÖ∏Ï∂ú(ÏÇ¨Ïö©ÏûêÍ∞Ä Ïà®Í∏∞ÏßÄ ÏïäÏïòÎã§Î©¥)
    if (localStorage.getItem(KEY) !== '1') show();
  })();
  </script>
  
  


<!-- ‚úÖ Î©îÏù∏ Î°úÏßÅ: header.jsÍ∞Ä Ìå®ÎÑê/ÌÉ≠ ÏÉÅÌÉú(Î≥µÍµ¨, a11y Ìè¨Ìï®)Î•º Ï†ÑÎã¥ -->
<script src="/assets/js/header.js"></script>
<script src="/assets/js/global.js"></script>
