<style>
    /* ===== Scoped to .blt (panel-safe) ===== */
    .blt{--brand:#10b981; --brand2:#0ea373; --muted:#9aa4ae; --code:#0f0f0f; --code-br:rgba(255,255,255,.12)}
    .blt *{box-sizing:border-box}
    .blt .blt-toolbar{display:flex; gap:8px; align-items:center; margin-bottom:10px}
    
    /* ▼ ここだけ変更：デスクトップでは220pxに、モバイルでは100%に */
    .blt .blt-search{flex:0 0 220px; min-width:160px;}
    .blt .blt-search input{
      width:100%; padding:8px 10px; border-radius:10px; border:1px solid #333;
      background:#0a0a0a; color:#e5e7eb; font-size:12px; outline:none;
    }
    
    @media (max-width:640px){
      .blt .blt-search{flex:1 1 auto;}   /* モバイルは全幅に */
    }
        /* Tab strip (horizontal, scrollable) */
        .blt .blt-tabs{display:flex; gap:6px; overflow:auto; padding-bottom:2px}
        .blt .blt-tab{
          border:1px solid #333; background:#121212; color:#ddd; padding:6px 10px; border-radius:999px; font-size:12px;
          cursor:pointer; white-space:nowrap
        }
        .blt .blt-tab:hover{background:#161616}
        .blt .blt-tab.is-active{background:var(--brand); border-color:transparent; color:#fff; font-weight:700}
      
        /* Panels */
        .blt .blt-panels{margin-top:10px}
        .blt .blt-panel{display:none}
        .blt .blt-panel.is-active{display:block}
        .blt h2{color:#ffe082; margin:0 0 6px 0; font-size:18px}
        .blt h3{color:#ffd666; margin:14px 0 6px 0; font-size:15px}
        .blt p{margin:6px 0; line-height:1.7}
        .blt ul{margin:6px 0 8px 18px}
        .blt li{margin:4px 0}
        .blt .blt-note{background:#0b1220; border:1px solid rgba(255,255,255,.08); padding:8px 10px; border-radius:8px; font-size:12px}
      
        /* Code */
        .blt pre{background:var(--code); border:1px solid var(--code-br); border-radius:10px; padding:12px; overflow:auto; margin:8px 0}
        .blt code{font-family:'Fira Code',ui-monospace,Consolas,monospace; font-size:.9rem; color:#ffcc80}
      
        /* Chips */
        .blt .blt-chips{margin-top:6px}
        .blt .blt-chip{display:inline-block; padding:4px 8px; border:1px solid #333; background:#161616; color:#ddd; border-radius:999px; font-size:11px; margin:4px 6px 0 0}
      
        /* Compact for small panels */
        @media (max-width:640px){
          .blt .blt-example .grid{grid-template-columns:1fr}
        }
      </style>
      
      <div class="blt" data-component="html-tabs">
        <div class="blt-toolbar" aria-label="HTMLチュートリアル ツールバー">
          <div class="blt-search"><input type="search" placeholder="チャプターを検索… (links, forms など)" aria-label="タブ検索"></div>
        </div>
      
        <div class="blt-tabs" role="tablist" aria-label="HTMLチュートリアル タブ">
          <button class="blt-tab is-active" role="tab" aria-selected="true" data-tab="home" aria-controls="blt-home">ホーム</button>
          <button class="blt-tab" role="tab" aria-selected="false" data-tab="intro" aria-controls="blt-intro">はじめに</button>
          <button class="blt-tab" role="tab" aria-selected="false" data-tab="basic" aria-controls="blt-basic">基本</button>
          <button class="blt-tab" role="tab" aria-selected="false" data-tab="elements" aria-controls="blt-elements">要素</button>
          <button class="blt-tab" role="tab" aria-selected="false" data-tab="attributes" aria-controls="blt-attributes">属性</button>
          <button class="blt-tab" role="tab" aria-selected="false" data-tab="headings" aria-controls="blt-headings">見出し</button>
          <button class="blt-tab" role="tab" aria-selected="false" data-tab="paragraphs" aria-controls="blt-paragraphs">段落</button>
          <button class="blt-tab" role="tab" aria-selected="false" data-tab="styles" aria-controls="blt-styles">スタイル</button>
          <button class="blt-tab" role="tab" aria-selected="false" data-tab="links" aria-controls="blt-links">リンク</button>
          <button class="blt-tab" role="tab" aria-selected="false" data-tab="images" aria-controls="blt-images">画像</button>
          <button class="blt-tab" role="tab" aria-selected="false" data-tab="lists" aria-controls="blt-lists">リスト</button>
          <button class="blt-tab" role="tab" aria-selected="false" data-tab="tables" aria-controls="blt-tables">テーブル</button>
          <button class="blt-tab" role="tab" aria-selected="false" data-tab="forms" aria-controls="blt-forms">フォーム</button>
          <button class="blt-tab" role="tab" aria-selected="false" data-tab="semantics" aria-controls="blt-semantics">セマンティクス</button>
          <button class="blt-tab" role="tab" aria-selected="false" data-tab="block-inline" aria-controls="blt-block-inline">ブロック vs インライン</button>
          <button class="blt-tab" role="tab" aria-selected="false" data-tab="id-class" aria-controls="blt-id-class">id vs class</button>
          <button class="blt-tab" role="tab" aria-selected="false" data-tab="head-meta" aria-controls="blt-head-meta">&lt;head&gt; &amp; Meta</button>
          <button class="blt-tab" role="tab" aria-selected="false" data-tab="filepaths" aria-controls="blt-filepaths">ファイルパス</button>
          <button class="blt-tab" role="tab" aria-selected="false" data-tab="entities" aria-controls="blt-entities">文字実体参照 & 絵文字</button>
          <button class="blt-tab" role="tab" aria-selected="false" data-tab="responsive" aria-controls="blt-responsive">レスポンシブ</button>
        </div>
      
        <div class="blt-panels">
          <section id="blt-home" class="blt-panel is-active" role="tabpanel">
            <h2>HTML ホーム</h2>
            <p>HTMLは、ウェブページの<b>構造</b>と<b>意味</b>を定義するマークアップ言語です。CSS/JSはHTMLの上に構築されます。</p>
            <pre><code>&lt;!DOCTYPE html&gt;
      &lt;html lang="ja"&gt;
      &lt;meta charset="utf-8"&gt;
      &lt;title&gt;最初のページ&lt;/title&gt;
      &lt;h1&gt;こんにちは&lt;/h1&gt;
      &lt;p&gt;HTMLはウェブの設計図です。&lt;/p&gt;</code></pre>
            <div class="blt-chips">
              <span class="blt-chip">DOM</span><span class="blt-chip">基本</span><span class="blt-chip">ボイラープレート</span>
            </div>
          </section>
      
          <section id="blt-intro" class="blt-panel" role="tabpanel">
            <h2>はじめに</h2>
            <p class="blt-note">ブラウザはHTMLをパースしてDOMツリーを作成し、CSSを適用してレンダリングツリーを描画します。</p>
            <ul>
              <li><b>セマンティック</b>な構造は、SEO/アクセシビリティ/メンテナンスに有利です。</li>
              <li><b>標準</b>はLiving Standard (WHATWG) に従って更新されます。</li>
              <li><b>互換性</b>はMDN/Can I useで確認できます。</li>
            </ul>
          </section>
      
          <section id="blt-basic" class="blt-panel" role="tabpanel">
            <h2>基本</h2>
            <ul>
              <li><code>&lt;!DOCTYPE html&gt;</code>: HTML5の宣言。</li>
              <li><code>lang</code>, <code>charset</code>, <code>viewport</code>は必須です。</li>
            </ul>
            <pre><code>&lt;!DOCTYPE html&gt;
      &lt;meta charset="utf-8"&gt;
      &lt;h1&gt;基本構造&lt;/h1&gt;
      &lt;p&gt;簡単なHTMLでもレンダリングされます。&lt;/p&gt;</code></pre>
          </section>
      
          <section id="blt-elements" class="blt-panel" role="tabpanel">
            <h2>要素</h2>
            <p>要素 = 開始タグ + 内容 + 終了タグ。空要素には終了タグがありません (例：<code>&lt;img&gt;</code>)。</p>
            <pre><code>&lt;p&gt;段落&lt;/p&gt;
      &lt;img src="/path/cat.jpg" alt="猫"&gt;</code></pre>
          </section>
      
          <section id="blt-attributes" class="blt-panel" role="tabpanel">
            <h2>属性</h2>
            <pre><code>&lt;a href="/docs" target="_blank" rel="noopener"&gt;ドキュメント&lt;/a&gt;
      &lt;input type="checkbox" checked&gt; 真偽値属性は値なしで存在すると真</code></pre>
          </section>
      
          <section id="blt-headings" class="blt-panel" role="tabpanel">
            <h2>見出し</h2>
            <pre><code>&lt;h1&gt;大見出し&lt;/h1&gt;
      &lt;h2&gt;中見出し&lt;/h2&gt;
      &lt;h3&gt;小見出し&lt;/h3&gt;</code></pre>
          </section>
      
          <section id="blt-paragraphs" class="blt-panel" role="tabpanel">
            <h2>段落</h2>
            <pre><code>&lt;p&gt;最初の段落&lt;/p&gt;
      &lt;p&gt;二番目の段落&lt;/p&gt;
      &lt;hr&gt;
      &lt;p&gt;三番目&lt;br&gt;改行&lt;/p&gt;</code></pre>
          </section>
      
          <section id="blt-styles" class="blt-panel" role="tabpanel">
            <h2>スタイル</h2>
            <pre><code>&lt;p style="color:tomato; font-weight:bold"&gt;警告&lt;/p&gt;</code></pre>
            <p class="blt-note">インラインスタイルは速いですが、メンテナンス性が低い → CSSを推奨します。</p>
          </section>
      
          <section id="blt-links" class="blt-panel" role="tabpanel">
            <h2>リンク</h2>
            <pre><code>&lt;a href="https://example.com" target="_blank" rel="noopener"&gt;外部サイト&lt;/a&gt;
      &lt;a href="#blt-tables"&gt;同一ドキュメント内移動&lt;/a&gt;</code></pre>
          </section>
      
          <section id="blt-images" class="blt-panel" role="tabpanel">
            <h2>画像</h2>
            <pre><code>&lt;img src="/img/photo.jpg" alt="幸せな犬" width="420"&gt;</code></pre>
            <p class="blt-note"><code>alt</code>はアクセシビリティとSEOの鍵です。</p>
          </section>
      
          <section id="blt-lists" class="blt-panel" role="tabpanel">
            <h2>リスト</h2>
            <pre><code>&lt;ul&gt;&lt;li&gt;箇条書き&lt;/li&gt;&lt;li&gt;リスト&lt;/li&gt;&lt;/ul&gt;
      &lt;ol&gt;&lt;li&gt;番号付き&lt;/li&gt;&lt;li&gt;リスト&lt;/li&gt;&lt;/ol&gt;
      &lt;dl&gt;&lt;dt&gt;用語&lt;/dt&gt;&lt;dd&gt;説明&lt;/dd&gt;&lt;/dl&gt;</code></pre>
          </section>
      
          <section id="blt-tables" class="blt-panel" role="tabpanel">
            <h2>テーブル</h2>
            <pre><code>&lt;table&gt;
        &lt;caption&gt;月別売上&lt;/caption&gt;
        &lt;thead&gt;&lt;tr&gt;&lt;th&gt;月&lt;/th&gt;&lt;th&gt;売上&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
        &lt;tbody&gt;
          &lt;tr&gt;&lt;td&gt;1月&lt;/td&gt;&lt;td&gt;100&lt;/td&gt;&lt;/tr&gt;
          &lt;tr&gt;&lt;td&gt;2月&lt;/td&gt;&lt;td&gt;150&lt;/td&gt;&lt;/tr&gt;
        &lt;/tbody&gt;
      &lt;/table&gt;</code></pre>
          </section>
      
          <section id="blt-forms" class="blt-panel" role="tabpanel">
            <h2>フォーム</h2>
            <pre><code>&lt;form action="/submit" method="post"&gt;
        &lt;label for="email"&gt;Eメール&lt;/label&gt;
        &lt;input id="email" name="email" type="email" required&gt;
        &lt;button type="submit"&gt;送信&lt;/button&gt;
      &lt;/form&gt;</code></pre>
            <p class="blt-note"><code>label[for]</code> ↔ <code>input[id]</code> の紐付けはアクセシビリティに必須です。</p>
          </section>
      
          <section id="blt-semantics" class="blt-panel" role="tabpanel">
            <h2>セマンティクス</h2>
            <pre><code>&lt;header&gt;ヘッダー&lt;/header&gt;
      &lt;nav&gt;ナビ&lt;/nav&gt;
      &lt;main&gt;&lt;article&gt;記事&lt;/article&gt;&lt;/main&gt;
      &lt;aside&gt;サイドバー&lt;/aside&gt;
      &lt;footer&gt;フッター&lt;/footer&gt;</code></pre>
          </section>
      
          <section id="blt-block-inline" class="blt-panel" role="tabpanel">
            <h2>ブロック vs インライン</h2>
            <ul>
              <li><b>ブロック (Block)</b>: 1行全体を占有します (例：<code>div, p, h1</code>)。</li>
              <li><b>インライン (Inline)</b>: 内容分の幅だけ占有します (例：<code>span, a, img</code>)。</li>
            </ul>
          </section>
      
          <section id="blt-id-class" class="blt-panel" role="tabpanel">
            <h2>id vs class</h2>
            <pre><code>&lt;div id="hero"&gt;固有、ページに1つだけ&lt;/div&gt;
      &lt;div class="tag"&gt;複数の要素で共通&lt;/div&gt;</code></pre>
          </section>
      
          <section id="blt-head-meta" class="blt-panel" role="tabpanel">
            <h2>&lt;head&gt; &amp; Meta</h2>
            <pre><code>&lt;meta name="description" content="要約"&gt;
      &lt;meta property="og:title" content="SNSのタイトル"&gt;
      &lt;link rel="preconnect" href="https://fonts.gstatic.com" crossorigin&gt;</code></pre>
          </section>
      
          <section id="blt-filepaths" class="blt-panel" role="tabpanel">
            <h2>ファイルパス</h2>
            <pre><code>./img/cat.jpg    (現在のフォルダ)
      ../assets/a.js  (親フォルダ)
      https://cdn.example.com/lib.css (絶対パス)</code></pre>
          </section>
      
          <section id="blt-entities" class="blt-panel" role="tabpanel">
            <h2>文字実体参照 & 絵文字</h2>
            <pre><code>&amp;lt; &amp;gt; &amp;amp; &amp;nbsp;
      😀 😍 👍 — UTF-8が指定されていれば、そのまま使えます。</code></pre>
          </section>
      
          <section id="blt-responsive" class="blt-panel" role="tabpanel">
            <h2>レスポンシブ</h2>
            <pre><code>&lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;</code></pre>
            <p class="blt-note">パネルは高さのみ変更すればよいので、横幅は既存のレイアウトに従います。</p>
          </section>
        </div>
      </div>
      
      <script>
      /* ===== panel-safe init (no globals) ===== */
      (function(){
        const root = document.querySelector('.blt[data-component="html-tabs"]');
        if(!root) return;
      
        const tabs   = Array.from(root.querySelectorAll('.blt-tab'));
        const panels = Array.from(root.querySelectorAll('.blt-panel'));
        const search = root.querySelector('.blt-search input');
        const LS_KEY = 'blt:html:last:' + location.pathname;
      
        function openTab(id, remember=true){
          panels.forEach(p => p.classList.toggle('is-active', p.id === 'blt-' + id));
          tabs.forEach(t => {
            const on = t.dataset.tab === id;
            t.classList.toggle('is-active', on);
            t.setAttribute('aria-selected', on ? 'true' : 'false');
            if(on) t.scrollIntoView({block:'nearest', inline:'nearest'});
          });
          if(remember){ try{ localStorage.setItem(LS_KEY, id); }catch(e){} }
        }
      
        tabs.forEach(t=>{
          t.addEventListener('click', ()=> openTab(t.dataset.tab));
          t.addEventListener('keydown', (e)=>{
            if(e.key==='Enter' || e.key===' ') { e.preventDefault(); openTab(t.dataset.tab); }
            if(e.key==='ArrowRight' || e.key==='ArrowLeft'){
              const dir = e.key==='ArrowRight' ? 1 : -1;
              const i = tabs.indexOf(t);
              const next = tabs[(i+dir+tabs.length)%tabs.length];
              next.focus();
            }
          });
        });
      
        // Restore last tab
        const last = (()=>{
          try{ return localStorage.getItem(LS_KEY) }catch(e){ return null }
        })();
        if(last && root.querySelector('#blt-' + last)) openTab(last, false);
        else openTab('home', false);
      
        // Filter tabs
        function applyFilter(){
          const q = (search.value||'').trim().toLowerCase();
          tabs.forEach(t=>{
            const show = t.textContent.toLowerCase().includes(q);
            t.style.display = show ? '' : 'none';
          });
        }
        search.addEventListener('input', applyFilter);
      
        // Example runner + copy (scoped)
        root.querySelectorAll('.blt-example').forEach(box=>{
          const ta   = box.querySelector('textarea');
          const frame= box.querySelector('iframe');
          const run  = box.querySelector('.btn.run');
          const copy = box.querySelector('.btn.copy');
      
          function doRun(){
            const doc = frame.contentDocument || frame.contentWindow.document;
            doc.open(); doc.write(ta.value); doc.close();
          }
          run.addEventListener('click', doRun);
          setTimeout(doRun, 0);
      
          copy.addEventListener('click', async ()=>{
            try{ await navigator.clipboard.writeText(ta.value);
              copy.textContent = 'コピーしました'; setTimeout(()=>copy.textContent='コピー', 1200);
            }catch(e){ alert('コピーに失敗しました：' + e); }
          });
        });
      })();
      </script>