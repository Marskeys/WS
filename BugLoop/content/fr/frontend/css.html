<style>
    /* ===== Scoped to .blc (panel-safe) ===== */
    .blc {
      --brand: #10b981;
      --brand2: #0ea373;
      --muted: #9aa4ae;
      --code: #0f0f0f;
      --code-br: rgba(255, 255, 255, .12);
    }
  
    .blc * {
      box-sizing: border-box
    }
  
    .blc .blc-toolbar {
      display: flex;
      gap: 8px;
      align-items: center;
      margin-bottom: 10px
    }
  
    /* Search bar: Fixed width on desktop, full width on mobile */
    .blc .blc-search {
      flex: 0 0 220px;
      min-width: 160px
    }
  
    .blc .blc-search input {
      width: 100%;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid #333;
      background: #0a0a0a;
      color: #e5e7eb;
      font-size: 12px;
      outline: none;
    }
  
    /* Tabs (horizontal scroll) */
    .blc .blc-tabs {
      display: flex;
      gap: 6px;
      overflow: auto;
      padding-bottom: 2px
    }
  
    .blc .blc-tab {
      border: 1px solid #333;
      background: #121212;
      color: #ddd;
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 12px;
      cursor: pointer;
      white-space: nowrap
    }
  
    .blc .blc-tab:hover {
      background: #161616
    }
  
    .blc .blc-tab.is-active {
      background: var(--brand);
      border-color: transparent;
      color: #fff;
      font-weight: 700
    }
  
    /* Panels */
    .blc .blc-panels {
      margin-top: 10px
    }
  
    .blc .blc-panel {
      display: none
    }
  
    .blc .blc-panel.is-active {
      display: block
    }
  
    .blc h2 {
      color: #ffe082;
      margin: 0 0 6px 0;
      font-size: 18px
    }
  
    .blc h3 {
      color: #ffd666;
      margin: 14px 0 6px 0;
      font-size: 15px
    }
  
    .blc p {
      margin: 6px 0;
      line-height: 1.7
    }
  
    .blc ul {
      margin: 6px 0 8px 18px
    }
  
    .blc li {
      margin: 4px 0
    }
  
    .blc .blc-note {
      background: #0b1220;
      border: 1px solid rgba(255, 255, 255, .08);
      padding: 8px 10px;
      border-radius: 8px;
      font-size: 12px
    }
  
    /* Code & example */
    .blc pre {
      background: var(--code);
      border: 1px solid var(--code-br);
      border-radius: 10px;
      padding: 12px;
      overflow: auto;
      margin: 8px 0
    }
  
    .blc code {
      font-family: 'Fira Code', ui-monospace, Consolas, monospace;
      font-size: .9rem;
      color: #ffcc80
    }
  
    /* Chips */
    .blc .blc-chips {
      margin-top: 6px
    }
  
    .blc .blc-chip {
      display: inline-block;
      padding: 4px 8px;
      border: 1px solid #333;
      background: #161616;
      color: #ddd;
      border-radius: 999px;
      font-size: 11px;
      margin: 4px 6px 0 0
    }
  
    @media (max-width:640px) {
      .blc .blc-search {
        flex: 1 1 auto
      }
  
      /* Full width search bar on mobile */
    }
  </style>
  
  <div class="blc" data-component="css-tabs">
    <div class="blc-toolbar" aria-label="Barre d'outils du tutoriel CSS">
      <div class="blc-search"><input type="search" placeholder="Rechercher des chapitres... (flex, grid, box, etc.)" aria-label="Recherche par onglets"></div>
    </div>
  
    <div class="blc-tabs" role="tablist" aria-label="Onglets du tutoriel CSS">
      <button class="blc-tab is-active" role="tab" aria-selected="true" data-tab="basics" aria-controls="blc-basics">Les bases</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="selectors" aria-controls="blc-selectors">Sélecteurs</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="cascade" aria-controls="blc-cascade">Cascade & Spécificité</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="box" aria-controls="blc-box">Modèle de boîte</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="display" aria-controls="blc-display">Affichage/Visibilité</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="position" aria-controls="blc-position">Positionnement</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="flex" aria-controls="blc-flex">Flexbox</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="grid" aria-controls="blc-grid">Grille</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="type" aria-controls="blc-type">Typographie & Unités</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="colors" aria-controls="blc-colors">Couleurs & Variables</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="bg" aria-controls="blc-bg">Arrière-plans/Bordures</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="motion" aria-controls="blc-motion">Transformations/Transitions</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="anim" aria-controls="blc-anim">Animations</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="responsive" aria-controls="blc-responsive">Requêtes média</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="pseudo" aria-controls="blc-pseudo">Pseudo & Combinateurs</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="arch" aria-controls="blc-arch">Bonnes pratiques</button>
    </div>
  
    <div class="blc-panels">
      <section id="blc-basics" class="blc-panel is-active" role="tabpanel">
        <h2>Les bases du CSS</h2>
        <p>Le CSS applique des <b>propriétés:valeurs</b> à l'élément désigné par un <b>sélecteur</b>.</p>
        <pre><code>h1 { color: #10b981; font-weight: 800; }</code></pre>
        <div class="blc-chips"><span class="blc-chip">Sélecteur</span><span class="blc-chip">Déclaration</span><span class="blc-chip">Règle</span></div>
      </section>
  
      <section id="blc-selectors" class="blc-panel" role="tabpanel">
        <h2>Sélecteurs</h2>
        <ul>
          <li>De base : Balise (<code>p</code>), Classe (<code>.card</code>), ID (<code>#hero</code>)</li>
          <li>Attribut : <code>a[target="_blank"]</code>, <code>input[type="email"]</code></li>
          <li>Combinateurs : Enfant <code>nav &gt; a</code>, Frère <code>h2 + p</code></li>
          <li>Fonctions : <code>:not(.disabled)</code>, <code>:is(header, footer)</code></li>
        </ul>
      </section>
  
      <section id="blc-cascade" class="blc-panel" role="tabpanel">
        <h2>Cascade & Spécificité</h2>
        <p>Ordre de priorité : <b>Importance</b>(!important) → <b>Spécificité</b> → <b>Ordre du code source</b>. Calcul de la spécificité : <code>id &gt; classe/attribut/pseudo &gt; balise</code>.</p>
        <div class="blc-note">Essayez d'éviter <code>!important</code> et de résoudre les conflits avec une meilleure structure de sélecteurs.</div>
      </section>
  
      <section id="blc-box" class="blc-panel" role="tabpanel">
        <h2>Modèle de boîte</h2>
        <p>Taille de l'élément = <code>contenu + padding + bordure + marge</code>. <code>box-sizing: border-box</code> est recommandé pour la mise en page.</p>
      </section>
  
      <section id="blc-display" class="blc-panel" role="tabpanel">
        <h2>Affichage / Visibilité</h2>
        <ul>
          <li><code>block</code>, <code>inline</code>, <code>inline-block</code>, <code>none</code></li>
          <li><code>visibility:hidden</code> masque mais occupe l'espace, <code>display:none</code> le supprime complètement</li>
        </ul>
      </section>
  
      <section id="blc-position" class="blc-panel" role="tabpanel">
        <h2>Positionnement</h2>
        <p>Le positionnement <code>absolute</code> est relatif à un parent <code>relative</code>, <code>fixed</code> est relatif à la fenêtre d'affichage, et <code>sticky</code> est une position fixe lors du défilement.</p>
      </section>
  
      <section id="blc-flex" class="blc-panel" role="tabpanel">
        <h2>Flexbox</h2>
        <ul>
          <li>Mise en page 1D. Propriétés clés : <code>display:flex</code>, <code>gap</code>, <code>justify-content</code>, <code>align-items</code></li>
        </ul>
      </section>
  
      <section id="blc-grid" class="blc-panel" role="tabpanel">
        <h2>Grille</h2>
        <p>Mise en page 2D. Conception réactive facile avec <code>repeat()</code>, <code>auto-fit</code>, <code>minmax()</code>.</p>
      </section>
  
      <section id="blc-type" class="blc-panel" role="tabpanel">
        <h2>Typographie & Unités</h2>
        <ul>
          <li>Unités : <code>px</code>, <code>rem</code> (par rapport à la racine), <code>em</code> (par rapport au parent/à la police elle-même), <code>%</code>, <code>vw/vh</code>, <code>ch</code></li>
          <li>Taille réactive : <code>clamp(min, preferred, max)</code></li>
        </ul>
      </section>
  
      <section id="blc-colors" class="blc-panel" role="tabpanel">
        <h2>Couleurs & Variables CSS</h2>
        <p>Couleur : <code>hsl()</code> est recommandée. Gérez les thèmes avec des propriétés personnalisées (variables).</p>
      </section>
  
      <section id="blc-bg" class="blc-panel" role="tabpanel">
        <h2>Arrière-plans & Bordures</h2>
        <pre><code>background: linear-gradient(135deg, #0ea5e9, #10b981);
  border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,.2);</code></pre>
      </section>
  
      <section id="blc-motion" class="blc-panel" role="tabpanel">
        <h2>Transformations & Transitions</h2>
      </section>
  
      <section id="blc-anim" class="blc-panel" role="tabpanel">
        <h2>Animations</h2>
      </section>
  
      <section id="blc-responsive" class="blc-panel" role="tabpanel">
        <h2>Requêtes média</h2>
        <p><code>@media (max-width: 600px){ ... }</code> / Basé sur l'environnement : <code>prefers-color-scheme</code>, <code>reduced-motion</code></p>
      </section>
  
      <section id="blc-pseudo" class="blc-panel" role="tabpanel">
        <h2>Pseudo-classes & Éléments</h2>
        <ul>
          <li><code>:hover</code>, <code>:focus-visible</code>, <code>:disabled</code>, <code>:nth-child()</code></li>
          <li>Ajoutez des décorations/icônes avec <code>::before</code>, <code>::after</code></li>
        </ul>
      </section>
  
      <section id="blc-arch" class="blc-panel" role="tabpanel">
        <h2>Bonnes pratiques</h2>
        <ul>
          <li>Nommage <b>BEM</b> : <code>.card</code> / <code>.card__title</code> / <code>.card--primary</code></li>
          <li>Application globale de <b>box-sizing</b>, <b>Hiérarchisation</b> (reset → base → components → utilities)</li>
          <li><b>Accessibilité</b> : Maintenez les styles de focus, respectez <code>prefers-reduced-motion</code></li>
          <li><b>Performance</b> : Évitez d'abuser des ombres/flous lourds, privilégiez les transformations/l'opacité pour les animations</li>
        </ul>
      </section>
    </div>
  </div>
  
  <script>
    /* ===== panel-safe init for CSS tabs (.blc) ===== */
    (function() {
      const root = document.querySelector('.blc[data-component="css-tabs"]');
      if (!root) return;
  
      const tabs = Array.from(root.querySelectorAll('.blc-tab'));
      const panels = Array.from(root.querySelectorAll('.blc-panel'));
      const search = root.querySelector('.blc-search input');
      const LS_KEY = 'blc:css:last:' + location.pathname;
  
      function openTab(id, remember = true) {
        panels.forEach(p => p.classList.toggle('is-active', p.id === 'blc-' + id));
        tabs.forEach(t => {
          const on = t.dataset.tab === id;
          t.classList.toggle('is-active', on);
          t.setAttribute('aria-selected', on ? 'true' : 'false');
          if (on) t.scrollIntoView({
            block: 'nearest',
            inline: 'nearest'
          });
        });
        if (remember) {
          try {
            localStorage.setItem(LS_KEY, id);
          } catch (e) {}
        }
      }
  
      tabs.forEach(t => {
        t.addEventListener('click', () => openTab(t.dataset.tab));
        t.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            openTab(t.dataset.tab);
          }
          if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {
            const dir = e.key === 'ArrowRight' ? 1 : -1;
            const i = tabs.indexOf(t);
            tabs[(i + dir + tabs.length) % tabs.length].focus();
          }
        });
      });
  
      // Restore last tab or default to Basics
      const last = (() => {
        try {
          return localStorage.getItem(LS_KEY)
        } catch (e) {
          return null
        }
      })();
      if (last && root.querySelector('#blc-' + last)) openTab(last, false);
      else openTab('basics', false);
  
      // Filter tabs
      function applyFilter() {
        const q = (search.value || '').trim().toLowerCase();
        tabs.forEach(t => {
          const show = t.textContent.toLowerCase().includes(q);
          t.style.display = show ? '' : 'none';
        });
      }
      search.addEventListener('input', applyFilter);
    })();
  </script>