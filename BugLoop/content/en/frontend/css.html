<style>
    /* ===== Scoped to .blc (panel-safe) ===== */
    .blc {
      --brand: #10b981;
      --brand2: #0ea373;
      --muted: #9aa4ae;
      --code: #0f0f0f;
      --code-br: rgba(255, 255, 255, .12);
    }
  
    .blc * {
      box-sizing: border-box
    }
  
    .blc .blc-toolbar {
      display: flex;
      gap: 8px;
      align-items: center;
      margin-bottom: 10px
    }
  
    /* 검색바: 데스크톱 고정폭, 모바일은 꽉 */
    .blc .blc-search {
      flex: 0 0 220px;
      min-width: 160px
    }
  
    .blc .blc-search input {
      width: 100%;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid #333;
      background: #0a0a0a;
      color: #e5e7eb;
      font-size: 12px;
      outline: none;
    }
  
    /* Tabs (가로 스크롤) */
    .blc .blc-tabs {
      display: flex;
      gap: 6px;
      overflow: auto;
      padding-bottom: 2px
    }
  
    .blc .blc-tab {
      border: 1px solid #333;
      background: #121212;
      color: #ddd;
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 12px;
      cursor: pointer;
      white-space: nowrap
    }
  
    .blc .blc-tab:hover {
      background: #161616
    }
  
    .blc .blc-tab.is-active {
      background: var(--brand);
      border-color: transparent;
      color: #fff;
      font-weight: 700
    }
  
    /* Panels */
    .blc .blc-panels {
      margin-top: 10px
    }
  
    .blc .blc-panel {
      display: none
    }
  
    .blc .blc-panel.is-active {
      display: block
    }
  
    .blc h2 {
      color: #ffe082;
      margin: 0 0 6px 0;
      font-size: 18px
    }
  
    .blc h3 {
      color: #ffd666;
      margin: 14px 0 6px 0;
      font-size: 15px
    }
  
    .blc p {
      margin: 6px 0;
      line-height: 1.7
    }
  
    .blc ul {
      margin: 6px 0 8px 18px
    }
  
    .blc li {
      margin: 4px 0
    }
  
    .blc .blc-note {
      background: #0b1220;
      border: 1px solid rgba(255, 255, 255, .08);
      padding: 8px 10px;
      border-radius: 8px;
      font-size: 12px
    }
  
    /* Code & example */
    .blc pre {
      background: var(--code);
      border: 1px solid var(--code-br);
      border-radius: 10px;
      padding: 12px;
      overflow: auto;
      margin: 8px 0
    }
  
    .blc code {
      font-family: 'Fira Code', ui-monospace, Consolas, monospace;
      font-size: .9rem;
      color: #ffcc80
    }
  
    /* Chips */
    .blc .blc-chips {
      margin-top: 6px
    }
  
    .blc .blc-chip {
      display: inline-block;
      padding: 4px 8px;
      border: 1px solid #333;
      background: #161616;
      color: #ddd;
      border-radius: 999px;
      font-size: 11px;
      margin: 4px 6px 0 0
    }
  
    @media (max-width:640px) {
      .blc .blc-search {
        flex: 1 1 auto
      }
  
      /* 모바일은 검색창 꽉 */
    }
  </style>
  
  <div class="blc" data-component="css-tabs">
    <div class="blc-toolbar" aria-label="CSS Tutorial Toolbar">
      <div class="blc-search"><input type="search" placeholder="Search chapters... (flex, grid, box, etc.)" aria-label="Tab search"></div>
    </div>
  
    <div class="blc-tabs" role="tablist" aria-label="CSS Tutorial Tabs">
      <button class="blc-tab is-active" role="tab" aria-selected="true" data-tab="basics" aria-controls="blc-basics">Basics</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="selectors" aria-controls="blc-selectors">Selectors</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="cascade" aria-controls="blc-cascade">Cascade & Specificity</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="box" aria-controls="blc-box">Box Model</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="display" aria-controls="blc-display">Display/Visibility</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="position" aria-controls="blc-position">Positioning</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="flex" aria-controls="blc-flex">Flexbox</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="grid" aria-controls="blc-grid">Grid</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="type" aria-controls="blc-type">Typography & Units</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="colors" aria-controls="blc-colors">Colors & Variables</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="bg" aria-controls="blc-bg">Backgrounds/Borders</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="motion" aria-controls="blc-motion">Transforms/Transitions</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="anim" aria-controls="blc-anim">Animations</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="responsive" aria-controls="blc-responsive">Media Queries</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="pseudo" aria-controls="blc-pseudo">Pseudo & Combinators</button>
      <button class="blc-tab" role="tab" aria-selected="false" data-tab="arch" aria-controls="blc-arch">Best Practices</button>
    </div>
  
    <div class="blc-panels">
      <section id="blc-basics" class="blc-panel is-active" role="tabpanel">
        <h2>CSS Basics</h2>
        <p>CSS applies <b>property:value</b> to the element pointed by the <b>selector</b>.</p>
        <pre><code>h1 { color: #10b981; font-weight: 800; }</code></pre>
        <div class="blc-chips"><span class="blc-chip">Selector</span><span class="blc-chip">Declaration</span><span class="blc-chip">Rule</span></div>
      </section>
  
      <section id="blc-selectors" class="blc-panel" role="tabpanel">
        <h2>Selectors</h2>
        <ul>
          <li>Basic: Tag (<code>p</code>), Class (<code>.card</code>), ID (<code>#hero</code>)</li>
          <li>Attribute: <code>a[target="_blank"]</code>, <code>input[type="email"]</code></li>
          <li>Combinators: Child <code>nav &gt; a</code>, Sibling <code>h2 + p</code></li>
          <li>Functions: <code>:not(.disabled)</code>, <code>:is(header, footer)</code></li>
        </ul>
      </section>
  
      <section id="blc-cascade" class="blc-panel" role="tabpanel">
        <h2>Cascade & Specificity</h2>
        <p>Precedence: <b>Importance</b>(!important) → <b>Specificity</b> → <b>Source Order</b>. Specificity calculation: <code>id &gt; class/attribute/pseudo &gt; tag</code>.</p>
        <div class="blc-note">Try to avoid <code>!important</code> and solve it with a better selector structure.</div>
      </section>
  
      <section id="blc-box" class="blc-panel" role="tabpanel">
        <h2>Box Model</h2>
        <p>Element size = <code>content + padding + border + margin</code>. <code>box-sizing: border-box</code> is recommended for layout.</p>
      </section>
  
      <section id="blc-display" class="blc-panel" role="tabpanel">
        <h2>Display / Visibility</h2>
        <ul>
          <li><code>block</code>, <code>inline</code>, <code>inline-block</code>, <code>none</code></li>
          <li><code>visibility:hidden</code> occupies space, <code>display:none</code> removes it completely</li>
        </ul>
      </section>
  
      <section id="blc-position" class="blc-panel" role="tabpanel">
        <h2>Positioning</h2>
        <p><code>absolute</code> position is relative to a <code>relative</code> parent, <code>fixed</code> to the viewport, and <code>sticky</code> for scroll-based fixing.</p>
      </section>
  
      <section id="blc-flex" class="blc-panel" role="tabpanel">
        <h2>Flexbox</h2>
        <ul>
          <li>1D layout. Core properties: <code>display:flex</code>, <code>gap</code>, <code>justify-content</code>, <code>align-items</code></li>
        </ul>
      </section>
  
      <section id="blc-grid" class="blc-panel" role="tabpanel">
        <h2>Grid</h2>
        <p>2D layout. Easy responsive design with <code>repeat()</code>, <code>auto-fit</code>, <code>minmax()</code>.</p>
      </section>
  
      <section id="blc-type" class="blc-panel" role="tabpanel">
        <h2>Typography & Units</h2>
        <ul>
          <li>Units: <code>px</code>, <code>rem</code>(root-based), <code>em</code>(parent/self font-based), <code>%</code>, <code>vw/vh</code>, <code>ch</code></li>
          <li>Responsive sizing: <code>clamp(min, preferred, max)</code></li>
        </ul>
      </section>
  
      <section id="blc-colors" class="blc-panel" role="tabpanel">
        <h2>Colors & CSS Variables</h2>
        <p>Color: <code>hsl()</code> recommended. Manage themes with custom properties (variables).</p>
      </section>
  
      <section id="blc-bg" class="blc-panel" role="tabpanel">
        <h2>Backgrounds & Borders</h2>
        <pre><code>background: linear-gradient(135deg, #0ea5e9, #10b981);
  border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,.2);</code></pre>
      </section>
  
      <section id="blc-motion" class="blc-panel" role="tabpanel">
        <h2>Transforms & Transitions</h2>
      </section>
  
      <section id="blc-anim" class="blc-panel" role="tabpanel">
        <h2>Animations</h2>
      </section>
  
      <section id="blc-responsive" class="blc-panel" role="tabpanel">
        <h2>Media Queries</h2>
        <p><code>@media (max-width: 600px){ ... }</code> / Environment-based: <code>prefers-color-scheme</code>, <code>reduced-motion</code></p>
      </section>
  
      <section id="blc-pseudo" class="blc-panel" role="tabpanel">
        <h2>Pseudo-classes & Elements</h2>
        <ul>
          <li><code>:hover</code>, <code>:focus-visible</code>, <code>:disabled</code>, <code>:nth-child()</code></li>
          <li>Add decorations/icons with <code>::before</code>, <code>::after</code></li>
        </ul>
      </section>
  
      <section id="blc-arch" class="blc-panel" role="tabpanel">
        <h2>Best Practices</h2>
        <ul>
          <li><b>BEM</b> Naming: <code>.card</code> / <code>.card__title</code> / <code>.card--primary</code></li>
          <li><b>box-sizing</b> global application, <b>Layering</b>(reset → base → components → utilities)</li>
          <li><b>Accessibility</b>: Maintain focus styles, respect <code>prefers-reduced-motion</code></li>
          <li><b>Performance</b>: Avoid overusing heavy shadows/blurs, favor transforms/opacity for animations</li>
        </ul>
      </section>
    </div>
  </div>
  
  <script>
    /* ===== panel-safe init for CSS tabs (.blc) ===== */
    (function() {
      const root = document.querySelector('.blc[data-component="css-tabs"]');
      if (!root) return;
  
      const tabs = Array.from(root.querySelectorAll('.blc-tab'));
      const panels = Array.from(root.querySelectorAll('.blc-panel'));
      const search = root.querySelector('.blc-search input');
      const LS_KEY = 'blc:css:last:' + location.pathname;
  
      function openTab(id, remember = true) {
        panels.forEach(p => p.classList.toggle('is-active', p.id === 'blc-' + id));
        tabs.forEach(t => {
          const on = t.dataset.tab === id;
          t.classList.toggle('is-active', on);
          t.setAttribute('aria-selected', on ? 'true' : 'false');
          if (on) t.scrollIntoView({
            block: 'nearest',
            inline: 'nearest'
          });
        });
        if (remember) {
          try {
            localStorage.setItem(LS_KEY, id);
          } catch (e) {}
        }
      }
  
      tabs.forEach(t => {
        t.addEventListener('click', () => openTab(t.dataset.tab));
        t.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            openTab(t.dataset.tab);
          }
          if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {
            const dir = e.key === 'ArrowRight' ? 1 : -1;
            const i = tabs.indexOf(t);
            tabs[(i + dir + tabs.length) % tabs.length].focus();
          }
        });
      });
  
      // Restore last tab or default to Basics
      const last = (() => {
        try {
          return localStorage.getItem(LS_KEY)
        } catch (e) {
          return null
        }
      })();
      if (last && root.querySelector('#blc-' + last)) openTab(last, false);
      else openTab('basics', false);
  
      // Filter tabs
      function applyFilter() {
        const q = (search.value || '').trim().toLowerCase();
        tabs.forEach(t => {
          const show = t.textContent.toLowerCase().includes(q);
          t.style.display = show ? '' : 'none';
        });
      }
      search.addEventListener('input', applyFilter);
    })();
  </script>